(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t.n(c),u=(t(19),t(2)),l=function(e){var n=e.text,t=e.handleChange;return r.a.createElement("div",null,"\u67e5\u627e\u7528\u6237\uff1a",r.a.createElement("input",{type:"text",value:n,onChange:t}))},i=function(e){var n=e.newName,t=e.handleChangeName,a=e.newNumber,c=e.HandleChangeNumber,o=e.handleSubmit;return r.a.createElement("form",null,r.a.createElement("h2",null,"\u6dfb\u52a0\u65b0\u7528\u6237"),r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:t})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:o},"add")))},s=function(e){var n=e.name,t=e.number,a=e.deletePerson;return r.a.createElement("p",null,n," ",t,r.a.createElement("button",{onClick:a},"delete"))},m=function(e){var n=e.persons,t=e.search,a=e.deletePerson;return r.a.createElement(r.a.Fragment,null,n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return r.a.createElement(s,{key:e.name,name:e.name,number:e.number,deletePerson:function(){return a(e.id,e.name)}})})))},f=t(3),d=t.n(f),h="http://localhost:3001/api/persons",b=function(){return d.a.get(h).then((function(e){return e.data}))},p=function(e){return d.a.post(h,e).then((function(e){return e.data}))},E=function(e){return d.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return d.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.message,t=e.type;return""===n?null:r.a.createElement("div",{className:t},r.a.createElement("h2",null,n))},w=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)("success"),s=Object(u.a)(o,2),f=s[0],d=s[1],h=Object(a.useState)(""),w=Object(u.a)(h,2),j=w[0],C=w[1];Object(a.useEffect)((function(){b().then((function(e){c(e)}))}),[]);var O=Object(a.useState)(""),N=Object(u.a)(O,2),k=N[0],S=N[1],y=Object(a.useState)(""),x=Object(u.a)(y,2),P=x[0],B=x[1],H=Object(a.useState)(""),J=Object(u.a)(H,2),L=J[0],W=J[1],D=function(e,n){C(e),d(n),setTimeout((function(){C("")}),3e3)};return r.a.createElement("div",null,r.a.createElement(g,{message:j,type:f}),r.a.createElement("h2",null,"\u7535\u8bdd\u7c3f"),r.a.createElement(l,{text:L,handleChange:function(e){W(e.target.value)}}),r.a.createElement(i,{newName:k,handleChangeName:function(e){S(e.target.value)},newNumber:P,HandleChangeNumber:function(e){B(e.target.value)},handleSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(k)){if(window.confirm("\u7535\u8bdd\u7c3f\u4e2d\u5df2\u4fdd\u5b58 ".concat(k,"\uff0c\u662f\u5426\u8986\u76d6?"))){var n=t.find((function(e){return e.name===k})).id;v(n,{name:k,number:P}).then((function(e){c(t.map((function(n){return n.name!==k?n:e}))),D("\u8986\u76d6 ".concat(k," \u6210\u529f\uff01"),"success")})).catch((function(e){console.log(e.response.data.error),D(e.response.data.error,"warn")}))}}else p({name:k,number:P}).then((function(e){c(t.concat(e)),D("\u6dfb\u52a0 ".concat(k," \u6210\u529f\uff01"),"success")})).catch((function(e){console.log(e.response.data.error),D(e.response.data.error,"warn")}));S(""),B("")}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{persons:t,search:L,deletePerson:function(e,n){window.confirm("\u786e\u5b9a\u5220\u9664 ".concat(n," ?"))&&E(e).then((function(){c(t.filter((function(n){return n.id!==e}))),D("\u5220\u9664 ".concat(n," \u6210\u529f\uff01"),"success")})).catch((function(a){D("\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u6b64\u7528\u6237\uff0c\u5220\u9664 ".concat(n," \u5931\u8d25\uff01"),"warn"),c(t.filter((function(n){return n.id!==e})))}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.52d335d0.chunk.js.map
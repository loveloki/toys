(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),u=t.n(r),o=(t(19),t(2)),l=function(e){var n=e.text,t=e.handleChange;return c.a.createElement("div",null,"\u67e5\u627e\u7528\u6237\uff1a",c.a.createElement("input",{type:"text",value:n,onChange:t}))},i=function(e){var n=e.newName,t=e.handleChangeName,a=e.newNumber,r=e.HandleChangeNumber,u=e.handleSubmit;return c.a.createElement("form",null,c.a.createElement("h2",null,"\u6dfb\u52a0\u65b0\u7528\u6237"),c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:n,onChange:t})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:a,onChange:r})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",onClick:u},"add")))},m=function(e){var n=e.name,t=e.number,a=e.deletePerson;return c.a.createElement("p",null,n," ",t,c.a.createElement("button",{onClick:a},"delete"))},s=function(e){var n=e.persons,t=e.search,a=e.deletePerson;return c.a.createElement(c.a.Fragment,null,n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return c.a.createElement(m,{key:e.name,name:e.name,number:e.number,deletePerson:function(){return a(e.id,e.name)}})})))},f=t(3),h=t.n(f),d="https://phone-note.herokuapp.com/persons",b=function(){return h.a.get(d).then((function(e){return e.data}))},p=function(e){return h.a.post(d,e).then((function(e){return e.data}))},E=function(e){return h.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return h.a.patch("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){var n=e.message,t=e.type;return""===n?null:c.a.createElement("div",{className:t},c.a.createElement("h2",null,n))},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)("success"),m=Object(o.a)(u,2),f=m[0],h=m[1],d=Object(a.useState)(""),w=Object(o.a)(d,2),j=w[0],C=w[1];Object(a.useEffect)((function(){b().then((function(e){r(e)}))}),[]);var O=Object(a.useState)(""),k=Object(o.a)(O,2),N=k[0],S=k[1],y=Object(a.useState)(""),x=Object(o.a)(y,2),P=x[0],B=x[1],H=Object(a.useState)(""),J=Object(o.a)(H,2),L=J[0],W=J[1],D=function(e,n){C(e),h(n),setTimeout((function(){C("")}),3e3)};return c.a.createElement("div",null,c.a.createElement(g,{message:j,type:f}),c.a.createElement("h2",null,"\u7535\u8bdd\u7c3f"),c.a.createElement(l,{text:L,handleChange:function(e){W(e.target.value)}}),c.a.createElement(i,{newName:N,handleChangeName:function(e){S(e.target.value)},newNumber:P,HandleChangeNumber:function(e){B(e.target.value)},handleSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(N)){if(window.confirm("\u7535\u8bdd\u7c3f\u4e2d\u5df2\u4fdd\u5b58 ".concat(N,"\uff0c\u662f\u5426\u8986\u76d6?"))){var n=t.find((function(e){return e.name===N})).id;v(n,{name:N,number:P}).then((function(e){r(t.map((function(n){return n.name!==N?n:e}))),D("\u8986\u76d6 ".concat(N," \u6210\u529f\uff01"),"success")}))}}else p({name:N,number:P}).then((function(e){r(t.concat(e)),D("\u6dfb\u52a0 ".concat(N," \u6210\u529f\uff01"),"success")}));S(""),B("")}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(s,{persons:t,search:L,deletePerson:function(e,n){window.confirm("\u786e\u5b9a\u5220\u9664 ".concat(n," ?"))&&E(e).then((function(){r(t.filter((function(n){return n.id!==e}))),D("\u5220\u9664 ".concat(n," \u6210\u529f\uff01"),"success")})).catch((function(a){D("\u670d\u52a1\u5668\u4e0d\u5b58\u5728\u6b64\u7528\u6237\uff0c\u5220\u9664 ".concat(n," \u5931\u8d25\uff01"),"warn"),r(t.filter((function(n){return n.id!==e})))}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.c5e4d006.chunk.js.map